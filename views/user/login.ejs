<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/login.css" />

    <title>login</title>
  </head>
  <body>
    <%- include('./partial/header') %>
    <div class="fillbox">
      <form class="form-box" id="loginForm" action="/signup" method="post">
        <h1 id="title" class="title">Sign up</h1>
        <div class="btn-field">
          <button type="button" id="signupbtn">Sign up</button>
          <button type="button" id="loginbtn" class="disabled-btn">
            Login
          </button>
        </div>
        <div>
          <%if(err){%>
          <div class="d-flex justify-content-center">
            <p
              style="padding-bottom: 0px; font-family: arial"
              class="m-2 text-danger text-center"
            >
              <%=err%><a href="">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-x-circle"
                  viewBox="0 0 16 16"
                  style="color: rgb(0, 0, 0)"
                >
                  <path
                    d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                  />
                  <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </a>
            </p>
          </div>
          <%}%>
          <div class="input-field" id="namefield">
            <input type="name" placeholder="name" name="name" id="name" />
            <div
              class="text-danger"
              style="font-size: small; margin-left: 20px"
              id="nameError"
            ></div>
          </div>

          <div class="group">
            <div class="input-field">
              <input
                type="email"
                placeholder="email"
                name="email"
                id="#email"
                inputmode="email"
              />
            </div>

            <div class="input-field" id="numberfield">
              <input
                type="text"
                placeholder="phone number"
                name="phonenumber"
                id="phonenumber"
                inputmode="tel"
              />
            </div>
            <div class="input-field">
              <input
                type="password"
                placeholder="password"
                name="password"
                id="password"
              />
              <div
                class="eye-icon"
                onclick="togglePassword('password', 'eye-icon')"
                style="margin-left: -3px"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-eye-slash"
                  viewBox="0 0 16 16"
                  id="eye-icon"
                >
                  <path
                    d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"
                  />
                  <path
                    d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"
                  />
                  <path
                    d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"
                  />
                </svg>
              </div>
            </div>
            <div class="input-field" id="confirmPass">
              <input
                type="password"
                placeholder="confirm password "
                name="confirmpassword"
                id="confirmPasswordField"
              />
            </div>

            <p id="forget" style="display: none; font-size: 16px" class="pl-3">
              <a href="forgotpassword">Forgot password?</a>
            </p>
          </div>
          <p id="loginError" class="error-message"></p>
          <div class="submitbtn">
            <button type="submit" value="submit" id="submitbtn">Submit</button>
          </div>

          <!-- <hr /> -->
          <!-- 
          <div class="google-text">
            <a href="">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                x="0px"
                y="0px"
                class="google-svg"
                width="15px"
                height="15px"
                viewBox="0 0 48 48"
              >
                <path
                  fill="#fbc02d"
                  d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12	s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20	s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"
                ></path>
                <path
                  fill="#e53935"
                  d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039	l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"
                ></path>
                <path
                  fill="#4caf50"
                  d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"
                ></path>
                <path
                  fill="#1565c0"
                  d="M43.611,20.083L43.595,20L42,20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"
                ></path>
              </svg>
              <span class="g">Signup with Google</span>
           <span class="o">o</span>
              <span class="o2">o</span>
              <span class="g2">g</span>
              <span class="l">l</span>
              <span class="e">e</span> -->
          <!-- </a> -->
          <!-- </div> -->
        </div>
      </form>
    </div>
    <script>
      let signupbtn = document.getElementById("signupbtn");
      let loginbtn = document.getElementById("loginbtn");
      let namefield = document.getElementById("namefield");
      let numberfield = document.getElementById("numberfield");
      let confirmPasswordField = document.getElementById(
        "confirmPasswordField"
      );
      let confirmBox = document.getElementById("confirmPass");
      let title = document.getElementById("title");
      let formbox = document.querySelector(".form-box");

      loginbtn.onclick = function () {
        document.getElementById("forget").style.display = "block";

        namefield.style.maxHeight = "0";
        numberfield.style.maxHeight = "0";
        confirmBox.style.display = "none";
        title.innerHTML = "Login";
        signupbtn.classList.add("disabled-btn");
        loginbtn.classList.remove("disabled-btn");
        loginForm.action = "/login";
        loginForm.method = "post";
        formbox.style.top = "-190px";
      };
      signupbtn.onclick = function () {
        document.getElementById("forget").style.display = "none";
        namefield.style.maxHeight = "60px";
        numberfield.style.maxHeight = "60px";
        confirmPasswordField.style.maxHeight = "60px";
        confirmBox.style.display = "block";
        title.innerHTML = "Sign up";
        signupbtn.classList.remove("disabled-btn");
        loginbtn.classList.add("disabled-btn");
        loginForm.action = "/signup";
        loginForm.method = "post";
        formbox.style.top = "-290px";
      };
      function hideErrors() {
        let errorMessages = document.querySelectorAll(".text-danger");
        errorMessages.forEach(function (errorMessage) {
          errorMessage.style.display = "none";
        });
      }

      // Check if there are error messages and set a timeout to hide them
      let errorMessages = document.querySelectorAll(".text-danger");
      if (errorMessages.length > 0) {
        setTimeout(hideErrors, 3000); // 10000 milliseconds = 10 seconds
      }
    </script>
    <script>
      function togglePassword(inputId, eyeIconId) {
        let passwordInput = document.getElementById(inputId);
        let eyeIcon = document.getElementById(eyeIconId);

        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          eyeIcon.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
  <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
  <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"/></svg>`;
        } else {
          passwordInput.type = "password";
          eyeIcon.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
  <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486z"/>
  <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"/>
  <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708"/>
</svg>`;
        }
      }
    </script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
