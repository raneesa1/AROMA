<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/addproduct.css" />

    <title>Add category</title>
  </head>
  <body>
    <div style="background-color: black; height: 4px" class="w-100"></div>

    <div id="menuHolder">
      <div
        role="navigation"
        class="sticky-top border-bottom border-top"
        id="mainNavigation"
      >
        <div class="flexMain">
          <div class="flex2"></div>
          <div
            class="flex3"
            id="siteBrand"
            style="font-size: 52px; margin-bottom: 0px; padding-bottom: 0"
          >
            AROMA
          </div>

          <div class="flex2 text-end d-block d-md-none">
            <button class="whiteLink siteLink">
              <i class="fas fa-search"></i>
            </button>
          </div>

          <div class="flex2 text-end d-none d-md-block align-content-lg-end">
            <div class="d-flex justify-content-end align-items-center pr-5">
              <div class="icon-box">
                <a href=""
                  ><i
                    ><svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-cart3"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"
                      /></svg></i
                ></a>
              </div>

              <div class="icon-box">
                <a href=""
                  ><i
                    ><svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-person-circle"
                      viewBox="0 0 16 16"
                    >
                      <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                      <path
                        fill-rule="evenodd"
                        d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"
                      /></svg></i
                ></a>
              </div>
              <div class="icon-box">
                <a href=""
                  ><i
                    ><svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="17"
                      height="17"
                      style="color: rgb(0, 0, 0)"
                      fill="currentColor"
                      class="bi bi-heart"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.920 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"
                      /></svg></i
                ></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="box">
      <div class="row">
        <div class="col-lg-6 mx-auto m-4">
          <div class="card">
            <div
              class="card-header text-center"
              style="background-color: rgb(0, 0, 0); color: aliceblue"
            >
              <h5>ADD NEW COUPON</h5>
            </div>
         
            <div class="card-body">
              <form action="/admin/addcoupon" method="post" id="add-form">
                <div class="mb-3">
                  <label for="name">Name</label>
                  <input
                    type="text"
                    name="CouponName"
                    id="name"
                    class="form-control form-control-lg"
                    placeholder="Enter category name"
                  />
                  <div class="error text-danger" id="nameError"></div>
                </div>
                <div class="mb-3">
                  <label for="description">Coupon code</label>
                  <input
                    name="Coupon_code"
                    class="form-control form-control-lg"
                    id="Code"
                    placeholder="Enter category description"
                  />
                  <div class="error text-danger" id="CodeError"></div>
                </div>

                <div class="mb-3">
                  <label for="addedDate">Min amount</label>
                  <input
                    name="Min_amount"
                    id="Min_purchase_amount"
                    class="form-control form-control-lg"
                  />
                  <div class="error text-danger" id="minError"></div>
                </div>
                <div class="mb-3">
                  <label for="addedDate">Max amount</label>
                  <input
                    type="number"
                    id="Max_purchase_amount"
                    name="Max_amount"
                    class="form-control form-control-lg"
                  />
                  <div class="error text-danger" id="maxError"></div>
                </div>

                <div class="mb-3">
                  <label for="addedDate">start date</label>
                  <input
                    type="date"
                    name="Start_date"
                    class="form-control form-control-lg"
                    id="Start_date"
                  />
                  <div class="error text-danger" id="strDateError"></div>
                </div>
                <div class="mb-3">
                  <label for="addedDate">Expirey date</label>
                  <input
                    type="date"
                    id="Expiration_date"
                    name="Expirey_date"
                    class="form-control form-control-lg"
                  />
                  <div class="error text-danger" id="expDateError"></div>
                </div>

                <div class="mb-3">
                  <label for="Max_count">Count </label>
                  <input
                    type="number"
                    id="Max_usage_count"
                    name="Max_count"
                    class="form-control form-control-lg"
                  />
                  <div class="error text-danger" id="maxCountError"></div>
                </div>
                <!-- <div class="mb-3">
                  <label for="addedDate">Active</label>
                  <input name="IsActive" class="form-control form-control-lg" />
                </div> -->
                <div class="mb-3">
                  <label for="addedDate">Discount amount</label>
                  <input
                    type="number"
                    id="Discount_value"
                    name="DiscountAmount"
                    class="form-control form-control-lg"
                  />
                  <div class="error text-danger" id="discountError"></div>
                </div>
                <input
                  style="
                    background-color: rgb(0, 0, 0);
                    border-color: rgb(0, 0, 0);
                    font-size: 12px;
                  "
                  type="submit"
                  name="submit"
                  value="Add Coupon"
                  class="btn btn-primary"
                />
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
    <script>
      setTimeout(function () {
        document.getElementById("errorMessage").style.display = "none";
      }, 5000);

      document
        .querySelector("form")
        .addEventListener("submit", function (event) {
          function isEmpty(value) {
            const trimmedValue = value.trim();
            return trimmedValue === "";
          }
          function isDateBeforeToday(date) {
            const currentDate = new Date();
            const inputDate = new Date(date);
            currentDate.setHours(0, 0, 0, 0);
            inputDate.setHours(0, 0, 0, 0);

            return inputDate < currentDate;
          }
          function maxcheck(min, max) {
            return min > max;
          }

          function isDateBefore(date1, date2) {
            const firstDate = new Date(date1);
            const secondDate = new Date(date2);
            firstDate.setHours(0, 0, 0, 0);
            secondDate.setHours(0, 0, 0, 0);

            return firstDate > secondDate;
          }
          function isValueLessThanZero(value) {
            return value < 0;
          }
          function isValuegreaterThanhundred(value) {
            return value < 0;
          }

          const name = document.getElementById("name");
          const nameValue = name.value;
          const nameError = document.getElementById("nameError");

          const code = document.getElementById("Code");
          const codeValue = code.value;
          const codeError = document.getElementById("CodeError");

          const Min_purchase_amount = document.getElementById(
            "Min_purchase_amount"
          );
          const Min_purchase_amountValue = Min_purchase_amount.value;
          const minError = document.getElementById("minError");

          const Max_purchase_amount = document.getElementById(
            "Max_purchase_amount"
          );
          const Max_purchase_amountValue = Max_purchase_amount.value;
          const maxError = document.getElementById("maxError");

          const Expiration_date = document.getElementById("Expiration_date");
          const Expiration_dateValue = Expiration_date.value;
          const expDateError = document.getElementById("expDateError");

          const Start_date = document.getElementById("Start_date");
          const Start_dateValue = Start_date.value;
          const strDateError = document.getElementById("strDateError");

          const Max_usage_count = document.getElementById("Max_usage_count");
          const Max_usage_countValue = Max_usage_count.value;
          const maxCountError = document.getElementById("maxCountError");

          const Discount_value = document.getElementById("Discount_value");
          const Discount_valueValue = Discount_value.value;
          const discountError = document.getElementById("discountError");

          nameError.textContent = "";
          codeError.textContent = "";
          minError.textContent = "";
          maxError.textContent = "";
          expDateError.textContent = "";
          Start_date.textContent = "";
          maxCountError.textContent = "";
          discountError.textContent = "";

          if (isEmpty(nameValue)) {
            nameError.textContent = "add   name can't be empty";
            event.preventDefault();
          }

          if (isEmpty(codeValue)) {
            codeError.textContent = "coupon code field can't be empty";
            event.preventDefault();
          }
          if (isEmpty(Min_purchase_amountValue)) {
            minError.textContent = "min purchase amount field can't be empty";
            event.preventDefault();
          }
          if (isValueLessThanZero(Min_purchase_amountValue)) {
            minError.textContent =
              "min purchase amount field can't be less than 0";
            event.preventDefault();
          }
          if (isEmpty(Max_purchase_amountValue)) {
            maxError.textContent = "max purchase amount field can't be empty";
            event.preventDefault();
          }
          if (maxcheck(Min_purchase_amountValue, Max_purchase_amountValue)) {
            maxError.textContent =
              "max purchase amount  can't be less than min amount";
            event.preventDefault();
          }

          if (isValueLessThanZero(Max_purchase_amountValue)) {
            maxError.textContent =
              "max purchase amount field can't be less than 0";
            event.preventDefault();
          }
          if (isEmpty(Start_dateValue)) {
            strDateError.textContent = " starting date field can't be empty";
            event.preventDefault();
          }
          if (isDateBeforeToday(Start_dateValue)) {
            strDateError.textContent = "not a valida date";
            event.preventDefault();
          }

          if (isEmpty(Expiration_dateValue)) {
            expDateError.textContent = " Expiration date field can't be empty";
            event.preventDefault();
          }
          if (isDateBeforeToday(Expiration_dateValue)) {
            expDateError.textContent = "not a valida date";
            event.preventDefault();
          }

          if (isDateBefore(Start_dateValue, Expiration_dateValue)) {
            expDateError.textContent = "expire date can't be before start date";
            event.preventDefault();
          }
          if (isEmpty(Max_usage_countValue)) {
            maxCountError.textContent = "max usage field can't be empty";
            event.preventDefault();
          }

          if (isValueLessThanZero(Max_usage_countValue)) {
            maxCountError.textContent =
              "usage count field can't be less than 0";
            event.preventDefault();
          }
          if (isEmpty(Discount_valueValue)) {
            discountError.textContent = "discount value field can't be empty";
            event.preventDefault();
          }
          if (isValueLessThanZero(Discount_valueValue)) {
            discountError.textContent = "discount value can't be less than 0";
            event.preventDefault();
          }
        });
    </script>
  </body>
</html>
